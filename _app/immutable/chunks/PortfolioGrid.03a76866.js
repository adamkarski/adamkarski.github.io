import{S as ee,i as le,s as te,k as S,a as X,l as A,m as E,c as Y,h as g,n as P,b as y,F as D,v as T,d,f as C,g as m,I as re,J as z,D as G,o as ie,q as Z,r as x,u as oe,M as q,e as k,ag as fe,y as j,z as v,A as M,B as R,ah as ne,V as se}from"./index.3d00fc46.js";import{L as ae,R as $}from"./realizacjeBox.249d62e3.js";import{f as L}from"./index.e1da9874.js";import{p as ce,m as ue,b as _e,d as V,s as me}from"./store.cb9bee2d.js";function F(s,e,f){const l=s.slice();return l[15]=e[f],l}function H(s,e,f){const l=s.slice();return l[18]=e[f],l}function J(s){let e,f;return{c(){e=S("h2"),f=Z(s[0]),this.h()},l(l){e=A(l,"H2",{class:!0});var r=E(e);f=x(r,s[0]),r.forEach(g),this.h()},h(){P(e,"class","portfolio-grid-title svelte-1ollqic")},m(l,r){y(l,e,r),D(e,f)},p(l,r){r&1&&oe(f,l[0])},d(l){l&&g(e)}}}function he(s){let e,f;return{c(){e=S("p"),f=Z("Brak projektów do wyświetlenia.")},l(l){e=A(l,"P",{});var r=E(e);f=x(r,"Brak projektów do wyświetlenia."),r.forEach(g)},m(l,r){y(l,e,r),D(e,f)},p:q,i:q,o:q,d(l){l&&g(e)}}}function ge(s){let e=[],f=new Map,l,r,n=s[3];const o=t=>t[15].id||t[15].slug;for(let t=0;t<n.length;t+=1){let i=F(s,n,t),c=o(i);f.set(c,e[t]=W(c,i))}return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=k()},l(t){for(let i=0;i<e.length;i+=1)e[i].l(t);l=k()},m(t,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,i);y(t,l,i),r=!0},p(t,i){i&26&&(n=t[3],T(),e=fe(e,i,o,1,t,n,f,l.parentNode,ne,W,l,F),C())},i(t){if(!r){for(let i=0;i<n.length;i+=1)m(e[i]);r=!0}},o(t){for(let i=0;i<e.length;i+=1)d(e[i]);r=!1},d(t){for(let i=0;i<e.length;i+=1)e[i].d(t);t&&g(l)}}}function de(s){let e,f;return e=new ae({}),{c(){j(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,r){M(e,l,r),f=!0},p:q,i(l){f||(m(e.$$.fragment,l),f=!0)},o(l){d(e.$$.fragment,l),f=!1},d(l){R(e,l)}}}function O(s){let e,f;return e=new $({props:{item:s[15]}}),{c(){j(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,r){M(e,l,r),f=!0},p(l,r){const n={};r&8&&(n.item=l[15]),e.$set(n)},i(l){f||(m(e.$$.fragment,l),f=!0)},o(l){d(e.$$.fragment,l),f=!1},d(l){R(e,l)}}}function K(s){let e,f,l=s[15].tags,r=[];for(let o=0;o<l.length;o+=1)r[o]=U(H(s,l,o));const n=o=>d(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=k()},l(o){for(let t=0;t<r.length;t+=1)r[t].l(o);e=k()},m(o,t){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,t);y(o,e,t),f=!0},p(o,t){if(t&24){l=o[15].tags;let i;for(i=0;i<l.length;i+=1){const c=H(o,l,i);r[i]?(r[i].p(c,t),m(r[i],1)):(r[i]=U(c),r[i].c(),m(r[i],1),r[i].m(e.parentNode,e))}for(T(),i=l.length;i<r.length;i+=1)n(i);C()}},i(o){if(!f){for(let t=0;t<l.length;t+=1)m(r[t]);f=!0}},o(o){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)d(r[t]);f=!1},d(o){se(r,o),o&&g(e)}}}function Q(s){let e,f;return e=new $({props:{item:s[15]}}),{c(){j(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,r){M(e,l,r),f=!0},p(l,r){const n={};r&8&&(n.item=l[15]),e.$set(n)},i(l){f||(m(e.$$.fragment,l),f=!0)},o(l){d(e.$$.fragment,l),f=!1},d(l){R(e,l)}}}function U(s){let e,f,l=s[18].tag_name==s[4]&&Q(s);return{c(){l&&l.c(),e=k()},l(r){l&&l.l(r),e=k()},m(r,n){l&&l.m(r,n),y(r,e,n),f=!0},p(r,n){r[18].tag_name==r[4]?l?(l.p(r,n),n&24&&m(l,1)):(l=Q(r),l.c(),m(l,1),l.m(e.parentNode,e)):l&&(T(),d(l,1,1,()=>{l=null}),C())},i(r){f||(m(l),f=!0)},o(r){d(l),f=!1},d(r){l&&l.d(r),r&&g(e)}}}function W(s,e){let f,l,r,n,o=(e[1]||e[4]=="all")&&O(e),t=!e[1]&&e[4]!=="all"&&e[15].tags&&K(e);return{key:s,first:null,c(){f=k(),o&&o.c(),l=X(),t&&t.c(),r=k(),this.h()},l(i){f=k(),o&&o.l(i),l=Y(i),t&&t.l(i),r=k(),this.h()},h(){this.first=f},m(i,c){y(i,f,c),o&&o.m(i,c),y(i,l,c),t&&t.m(i,c),y(i,r,c),n=!0},p(i,c){e=i,e[1]||e[4]=="all"?o?(o.p(e,c),c&18&&m(o,1)):(o=O(e),o.c(),m(o,1),o.m(l.parentNode,l)):o&&(T(),d(o,1,1,()=>{o=null}),C()),!e[1]&&e[4]!=="all"&&e[15].tags?t?(t.p(e,c),c&26&&m(t,1)):(t=K(e),t.c(),m(t,1),t.m(r.parentNode,r)):t&&(T(),d(t,1,1,()=>{t=null}),C())},i(i){n||(m(o),m(t),n=!0)},o(i){d(o),d(t),n=!1},d(i){i&&g(f),o&&o.d(i),i&&g(l),t&&t.d(i),i&&g(r)}}}function be(s){let e,f,l,r,n,o,t,i,c,_=s[0]&&J(s);const I=[de,ge,he],b=[];function B(u,h){return h&8&&(n=null),u[2]?0:(n==null&&(n=!!(u[3]&&Array.isArray(u[3])&&u[3].length>0)),n?1:!u[2]&&u[3]&&u[3].length===0?2:-1)}return~(o=B(s,-1))&&(t=b[o]=I[o](s)),{c(){e=S("section"),_&&_.c(),f=X(),l=S("div"),r=S("b"),t&&t.c(),this.h()},l(u){e=A(u,"SECTION",{class:!0});var h=E(e);_&&_.l(h),f=Y(h),l=A(h,"DIV",{class:!0});var a=E(l);r=A(a,"B",{class:!0});var p=E(r);t&&t.l(p),p.forEach(g),a.forEach(g),h.forEach(g),this.h()},h(){P(r,"class","flex flex-wrap flex-table svelte-1ollqic"),P(l,"class","mx-auto relative sm:w-auto p-4"),P(e,"class","section portfolio-grid svelte-1ollqic")},m(u,h){y(u,e,h),_&&_.m(e,null),D(e,f),D(e,l),D(l,r),~o&&b[o].m(r,null),c=!0},p(u,[h]){u[0]?_?_.p(u,h):(_=J(u),_.c(),_.m(e,f)):_&&(_.d(1),_=null);let a=o;o=B(u,h),o===a?~o&&b[o].p(u,h):(t&&(T(),d(b[a],1,1,()=>{b[a]=null}),C()),~o?(t=b[o],t?t.p(u,h):(t=b[o]=I[o](u),t.c()),m(t,1),t.m(r,null)):t=null)},i(u){c||(m(t),re(()=>{c&&(i||(i=z(e,L,{},!0)),i.run(1))}),c=!0)},o(u){d(t),i||(i=z(e,L,{},!1)),i.run(0),c=!1},d(u){u&&g(e),_&&_.d(),~o&&b[o].d(),u&&i&&i.end()}}}function pe(s,e,f){let l;G(s,ce,a=>f(10,l=a)),G(s,ue,a=>f(11,a));let{showTagsBar:r=!1}=e,{customItems:n=null}=e,{excludeCurrentSlug:o=null}=e,{limit:t=0}=e,{title:i=""}=e,{forceAllTag:c=!1}=e,_=!0,I=[],b="all",B=null;c||_e.subscribe(a=>{f(4,b=a)});async function u(){f(2,_=!0);try{let p=await(await fetch(me)).json(),w=p.data;return o&&(w=p.data.filter(N=>N.slug!==o)),t>0&&w.length>t&&(w=w.slice(0,t)),V.set(w.length),f(2,_=!1),w}catch(a){return console.error("Error fetching portfolio items:",a),f(2,_=!1),[]}}async function h(){f(2,_=!0);let a=[];n&&n.length>0?a=n:l&&l.length>0&&!n?a=l:a=await u();let p=a;o&&(p=a.filter(w=>{var N;return(w.slug||((N=w.attributes)==null?void 0:N.slug))!==o})),t>0&&p.length>t?f(3,I=p.slice(0,t)):f(3,I=p),V.set(I.length),f(2,_=!1)}return ie(()=>{h()}),s.$$set=a=>{"showTagsBar"in a&&f(5,r=a.showTagsBar),"customItems"in a&&f(6,n=a.customItems),"excludeCurrentSlug"in a&&f(7,o=a.excludeCurrentSlug),"limit"in a&&f(8,t=a.limit),"title"in a&&f(0,i=a.title),"forceAllTag"in a&&f(1,c=a.forceAllTag)},s.$$.update=()=>{s.$$.dirty&1728&&(n!==B||o||l&&!n)&&(f(9,B=n),h())},[i,c,_,I,b,r,n,o,t,B,l]}class Be extends ee{constructor(e){super(),le(this,e,pe,be,te,{showTagsBar:5,customItems:6,excludeCurrentSlug:7,limit:8,title:0,forceAllTag:1})}}export{Be as P};
